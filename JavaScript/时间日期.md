时间日期(使用moment.js)
---
### 引言
时间日期处理对于应用来说很重要，在javascript中提供了Date()和一系列的方法可供调用，而使用moment.js更进一步封装时间调用，方便处理。moment.js可以在浏览器和Node.js里使用。

### 使用Javascript内置的时间日期对象和方法

JS 内置Date类处理时间，方法分为getter/setter和类上的几个静态方法(常用的Date.UTC(),Date.parse())

获取当前时间日期很简单(构造方法和工厂形式调用均可,但返回类型不同)

```javascript
var now = new Date(); // 得到的是一个对象,当然console.log()出来是一个字符串
console.log(typeof now === 'string');  // false
var now2 = Date();  // 通过工厂方法调用，得到的是一个字符串
console.log(typeof now2 === 'string');  // true
```

设置某个时间就稍微麻烦点，有很多种方法

1.先获取一个时间对象，然后再依次去调用 dateobj.setXXX() 等setter方法

2.通过Unix时间戳来计算,下面的例子反过来计算时间差。

```javascript
//Date.UTC() 方法得到的是一个Unix纪元时间到指定时间到毫秒数，处于 GMT 时区; UTC 是Date的一个静态方法
//注意区分now.getDate()和now.getDay()
var timestamp = Date.UTC(now.getFullYear(),now.getMonth(),now.getDate(),now.getHours(),now.getMinutes(),now.getSeconds(),now.getMilliseconds());
//getTime()是本地时区的时间，也是得到哦Unix时间戳
var timestamp2 = now.getTime();
console.log(timestamp);
console.log(timestamp2);
console.log((timestamp-timestamp2)/(3600*1000));
```

获取时间戳能够让我们计算某一天的前后日期，所以非常重要，可以获取时间戳的函数

`Date.UTC()` 得到的是世界时的时区时间戳

`dateobj.getTime()` 得到的是本地时区的时间戳

`Date.parse()` 从一个指定的时间`字符串`获取对应的本地时区时间戳

```javascript
//从一个时间字符串得到一个时间戳: Date的静态方法: Date.parse(string);
console.log(Date.parse(now.toString()));  // 得到的毫秒数可能会有一些偏差
```

如果想统一使用GMT时区(世界时)的时间，那就在对象方法上加上UTC即可，如:

```javascript
//如果想要统一为世界时间，就在方法中加一个UTC,其他方法类似
console.log(now.getUTCHours()); //慢8个小时
```

想返回时间对象某一部分字符串的快捷方法

```javascript
//将对象的时间日期部分转换成字符串串返回
console.log(now.toTimeString())
console.log(now.toUTCString())
console.log(now.toDateString())
```

得到本地时间格式的时间字符串

```javascript
// 得到你本地电脑上的时间时区格式一致的时间字符串
console.log(now.toLocaleString());
//或者只得到一部分，时区和格式仍然和本地时间一致
console.log(now.toLocaleTimeString());
console.log(now.toLocaleDateString());
```



### 使用 Moment.js